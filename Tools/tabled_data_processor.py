import re

str = """||||112年7月1日|||【11年7月1日||112年1月1日||\|\|\|年\|月\|日||
|------|------------------------------------------|------------------|-----------------|-----------|-------|-----------------|---------|-----------------|---------------------|---------------------------|------|
||||출장月30日|||\-至9月30日||至9月30日||至9月30日||
||項目|附註|金|額|%|額|%||%\-金金\-\-\-|額|%|
|4000|營業收入|六(三十一)及七|$1,543,163,653||100కి|1,746,604,787|100ﭼﮭ|4,310,149,182|100ಲ್ಲಿ|4.663.968.546|100|
|5000|管業成本|六(八)(三十五)及||||||||||
||||(1.440.410.156)||(93)|(1,638,977,070)|(94)|(4.035.484.046)|(94)|(4,374,947,427)|(94)|
|5900|管業毛利||102,753,497||7|107,627,717|(|274.665.136|6|289,021,119|6|
||營業費用|六(三十五)||||||||||
|6100|推銷費用||(5,366,675)|||(7,865,102)||(16,935,761)|–|(21,698,252)||
|6200|管理費用||(24,080,087)||(2)|(21,240,053)|(1)|(62,846,404)|(1)|(57,614,297)|(1)|
|6300|研究發展費用||(27,156,833)||(2)|(29,973,118)|(2)|(77.284.649)|(2)|(80,153,294)|(2)|
|6000|營業費用合計||(56.603.595)||(4)|(59,078,273)|(3)|(157.066.814)|(3)|(159.465.843)|(3)|
|6900|營業利益||46.149.902||3|48.549.444|3|117.598.322|3|129,555,276|3|
||管業外收入及支出|||||||||||
|7100|利息收入|六(三十二)|20,868,596||\-|11,601,392||59.970.158||28,876,672||
|7010|其他收入|六(三十三)|3,306,486|||2,985,046||7,637,260|\-|6,872,990||
|7020|其他利益及損失|六(三十四)||1,804,804|–|(3,617,014)||4.273.064|\-|(15.808.237)|\-|
|7050|財務成本|六(三十七)|(17,747,223)||(1)|(10,093,009)|(1)|(49,304,321)|(1)|(22,021,953)|(1)|
|7060|採用權益法認列之關聯企業及合資損益之份額|六(九)|2,834,836||'|1,770,453||(14,848,553)||7,586,132||
|7000|營業外收入及支出合計||11,067,499|||2,646,868||7,727,608||5,505,604||
|7900|稅前淨利||57,217,401||ﻢ|51,196,312|3|125,325,930|3|135.060.880|3|
|7950|所得稅費用|六(三十八)|(9,727,497)||(1)|(9,503,472)|(1)|(28,793,587)|(1)|(29,094,898)|(1)|
|8200|本期淨利||ಳಿ47.489.904||Nക്ക്|41,692,840|2$|96,532,343|ଧﻮﻥ|105,965,982|2|"""

# 删除所有不是数字、中文、英文或常用符号的字符
cleaned_str = re.sub(r'[^\u4e00-\u9fff\u0030-\u0039a-zA-Z\s\|\(\)\[\]\{\}%&$@#,.;:!?+\-*/=<>~`\'\"【】]', '', str)

print(cleaned_str)


class DataProcessor:
    def __init__(self, file_path):
        self.file_path = file_path

    def process(self):
        with open(self.file_path, 'r', encoding='utf-8') as file:
            str = file.read()
        cleaned_str = re.sub(r'[^\u4e00-\u9fff\u0030-\u0039a-zA-Z\s\|\(\)\[\]\{\}%&$@#,.;:!?+\-*/=<>~`\'\"【】]', '', str)
        return cleaned_str


if __name__ == "__main__":
    data_processor = DataProcessor("D:\\NTCUST\\Project\\Competition\\AI_CUP\\AI_CUP_2024\\finance_101-200\\text\\v4\\102_1.txt")
    print(data_processor.process())
